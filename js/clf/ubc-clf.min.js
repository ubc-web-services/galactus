/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-transition.js, bootstrap-dropdown.js, bootstrap-tab.js, bootstrap-collapse.js, bootstrap-carousel.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(a){a(function(){a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){function d(){a(".dropdown-backdrop").remove(),a(b).each(function(){e(a(this)).removeClass("open")})}function e(b){var c=b.attr("data-target"),d;c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=c&&a(c);if(!d||!d.length)d=b.parent();return d}var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",d),f.toggleClass("open")),c.focus(),!1},keydown:function(c){var d,f,g,h,i,j;if(!/(38|40|27)/.test(c.keyCode))return;d=a(this),c.preventDefault(),c.stopPropagation();if(d.is(".disabled, :disabled"))return;h=e(d),i=h.hasClass("open");if(!i||i&&c.keyCode==27)return c.which==27&&h.find(b).focus(),d.click();f=a("[role=menu] li:not(.divider):visible a",h);if(!f.length)return;j=f.index(f.filter(":focus")),c.keyCode==38&&j>0&&j--,c.keyCode==40&&j<f.length-1&&j++,~j||(j=0),f.eq(j).focus()}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",d).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active:last a")[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning||this.$element.hasClass("in"))return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning||!this.$element.hasClass("in"))return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),typeof c=="object"&&c);e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(b>this.$items.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j;this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h](),j=a.Event("slide",{relatedTarget:e[0],direction:g});if(e.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),c.data()),g;e.carousel(f),(g=c.attr("data-slide-to"))&&e.data("carousel").pause().to(g).cycle(),b.preventDefault()})}(window.jQuery);
/*!
 * UBC CLF v7.0.5 Javascript
 * Copyright 2012-2017 The University of British Columbia
 * Contact:     UBC Communications and Marketing
 *              t: 604.822.2130
 *              e: web.admin@ubc.ca
 *              w: communications.ubc.ca
 */
!function(i){i(document).ready(function(){n.on_ready(),i.getJSON("https://cdn.ubc.ca/clf/globalutility/index.php?jsoncallback=?",function(n){i("#ubc7-footer-menu").html(n.html.footer),i("#ubc7-global-header").html(n.html.header)})});var n={on_ready:function(){n.unit_name_resize.dynamic_width(),n.unit_name_resize.dynamic_height()},unit_name_resize:{min_unit_bar_height:50,line_height:17,dynamic_width:function(){i("#ubc7-unit-identifier").hasClass("shorten")&&i("#ubc7-unit-name").width()>i("#ubc7-unit-identifier").width()&&(i("#ubc7-unit-identifier").hasClass("shorten-more")?i("#ubc7-unit-identifier").removeClass("shorten-more"):i("#ubc7-unit-identifier").removeClass("shorten")),i("#ubc7-unit-name").width()<=i("#ubc7-unit-identifier").width()&&(i("#ubc7-unit-identifier").addClass("shorten"),i("#ubc7-unit-identifier").hasClass("shorten")&&i("#ubc7-unit-name").width()<=i("#ubc7-unit-identifier").width()&&i("#ubc7-unit-identifier").addClass("shorten-more"))},dynamic_height:function(){if(i("#ubc7-unit .span12").height()<i("#ubc7-unit").height()&&(i("#ubc7-unit").css("height","-="+n.unit_name_resize.line_height),i("#ubc7-unit").height()<=n.unit_name_resize.min_unit_bar_height&&i("#ubc7-unit").css("height",""),i("#ubc7-unit-identifier").removeClass("multi-rows"),i(".ubc7-single-element a").css("margin-top","")),i("#ubc7-unit").height()<i("#ubc7-unit .span12").height()){for(;i("#ubc7-unit").height()<i("#ubc7-unit-name").height();)i("#ubc7-unit").css("height","+="+n.unit_name_resize.line_height);i("#ubc7-unit-identifier").addClass("multi-rows"),i(".ubc7-single-element a").css("margin-top","8px")}}}};i(window).resize(function(){n.on_ready()}),i(".ubc7-back-to-top a").click(function(){i("body").animate({scrollTop:0})}),i("#ubc7-global-menu").on({show:function(){i("#ubc7-global-utility button span").addClass("opened")},shown:function(){i("#ubc7-search").find("input").focus()},hide:function(){i("#ubc7-global-utility button span").removeClass("opened")},resize:function(){i(this).height()>0?i("#ubc7-global-utility button span").addClass("opened"):i("#ubc7-global-utility button span").removeClass("opened")}}),i(".sidenav .accordion-body").on({shown:function(){if(i(this).hasClass("in")){var n=i(this).closest(".accordion-group");n.find(".accordion-heading").first().addClass("opened"),i(this).find(".in").closest(".accordion-group").find(".accordion-heading").first().addClass("opened")}},hidden:function(){i(this).hasClass("in")||(target_group=i(this).closest(".accordion-group"),target_group.find(".accordion-heading").removeClass("opened"))}})}(jQuery);
/*!
 * UBC CLF v7.0.1 Carousel
 * Copyright 2012 The University of British Columbia
 */
(function($){$.fn.ubc_spotlight=function(settings){settings=$.extend({},$.fn.ubc_spotlight.default_settings,settings||{});return this.each(function(){var $this=$(this)
var $settings=jQuery.extend(true,{},settings);$this.carousel($settings);var prev=$('.ubc7-carousel-control.left',$this);var next=$('.ubc7-carousel-control.right',$this);var pause=$('.ubc7-carousel-control.pause',$this);var playing=true;var total_size=$this.find(".item").length;var counter=$('.ubc7-carousel-counter',$this);counter.html("1 / "+total_size.toString());$this.on("slid",function(){var current_slide=$this.find(".active").index("#"+$this.attr("id")+" .item")+1;counter.html(current_slide.toString()+" / "+total_size.toString());});prev.click(function(){$this.carousel('prev');});next.click(function(){$this.carousel('next');});pause.click(function(){$this.carousel('pause');if(playing===true){$this.carousel('pause');pause.addClass("ubc7-carousel-play");playing=false;}else{$this.carousel('cycle');pause.removeClass("ubc7-carousel-play");playing=true;}});});};$.fn.ubc_spotlight.default_settings={interval:8000,pause:'cycle'};})(window.jQuery);